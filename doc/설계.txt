<< 모델알고리즘 선택 >>
세 가지 센서 데이터가 비교적 단순하고,
특히 해석 가능성이 중요하다면 머신러닝 알고리즘을 먼저 
고려해보는 것이 좋음.
만약 데이터의 복잡성이 높고, 높은 성능이 필요하다면 딥러닝을 고려할 수 있음
데이터의 양이 85,000개라면, 이는 중간 규모의 데이터셋으로 볼 수 있음.
머신러닝 알고리즘은 이런 규모의 데이터에서도 잘 작동함.그러나 데이터의 복잡성과 패턴에 따라 딥러닝이 더 효율적일 수도 있음.

- 머신러닝 알고리즘에서 고려할 만한 점
랜덤 포레스트 (Random Forest): 대용량 데이터에 대해 좋은 성능을 내며, 중요 변수를 쉽게 식별할 수 있음
그래디언트 부스팅 (Gradient Boosting): 랜덤 포레스트보다 더 높은 성능을 내지만, 
                                      파라미터 튜닝이 필요하고, 해석이 다소 어려울 수 있음.

- 딥러닝 알고리즘에서 고려할 만한 점
순환 신경망 (RNN): 시계열 데이터에 적합하며, 장기 패턴을 학습할 수 있음.하지만 구현이 복잡하고 계산 비용이 높습니다.
컨볼루션 신경망 (CNN): 주로 이미지 처리에 사용되지만, 1차원 데이터의 패턴을 잘 잡을 수 있음.

종합적으로 볼 때, 랜덤 포레스트나 그래디언트 부스팅 같은 머신러닝 알고리즘을 추천
이 알고리즘들은 중간 규모의 데이터셋에서도 잘 작동하며, 변수의 중요성을 쉽게 해석할 수 있기 때문.

- 분류 모델에서 주로 사용되는 평가 지표
Accuracy: 정확도, 모델이 올바르게 분류한 샘플의 비율
Precision: 정밀도, True Positive / (True Positive + False Positive)
Recall: 재현율, True Positive / (True Positive + False Negative)
F1 Score: 정밀도와 재현율의 조화 평균
ROC-AUC: Receiver Operating Characteristic curve의 아래 면적 (Area Under Curve)

<< 센서데이터의 이해 >> 
# 온도센서: 온도는 공기가 수증기를 얼마나 많이 가질 수 있는지를 결정하는 중요한 요소
#          온도가 낮아지면 공기가 물을 적게 가지게 되어, 결로가 생기기 쉬워진다.
# 습도센서: 상대습도가 높으면 결로가 발생할 가능성이 높아짐
#          특히 상대습도가 100%에 가까워지면 결로가 발생하기 아주 쉬워짐
# 풍속풍향센서: 공기의 움직임은 온도와 습도의 분포에 영향을 미침.
#              강한 바람은 결로가 빨리 증발하게 할 수 있지만, 
#              바람이 없으면 공기 중의 물분이 빨리 분산되지 않아 결로가 쉽게 생길 수 있음.


<< 코드작성 >>
랜덤포레스트를 이용해 위의 3가지 데이터(온도, 습도, 풍속풍향)를 가지고 결로현상을 분류하는 코드를 만들예정

- 데이터 칼럼
온도(Temperature): inTp, outTp 등이 해당할 수 있을 것 같습니다.
    inTp: 이 칼럼은 아마도 "Indoor Temperature"를 의미할 것으로, 실내 온도를 나타낼 가능성이 높습니다.
    outTp: 이 칼럼은 아마도 "Outdoor Temperature"를 의미할 것으로, 실외 온도를 나타낼 가능성이 높습니다.
습도(Humidity): inHd가 이에 해당할 가능성이 높습니다.
풍속(Wind Speed): outWs가 이에 해당할 것으로 보입니다.
풍향(Wind Direction): 이에 해당하는 칼럼은 명확하게 보이지 않습니다.

- 데이터에서의 결로현상 가설1 (결과적으로 상관관계가 0.4로 중간 정도였으므로 이가설은 보류)
 '실내외의 온도차가 커지면 실내의 습도가 높아지고 스마트팜내부의 결로가 발생한다.'
 
 이를 확인하기 위해서는 실제로 "온도차"와 "실내 습도" 간의 상관관계를 파악해야 함
 각각의 변수들 간의 단순한 상관관계만의 측정으로는 이 가설을 직접적으로 검증할 수는 없음
 그래서 온도차를 구하기 위해서는 '실내 온도'와 '실외 온도'의 차이를 새로운 컬럼으로 생성해야 함.
 그 후, 이 "온도차"와 "실내 습도"간의 상관관계를 계산해야 가설을 검증할 수 있음.

- 데이터에서의 결로현상 가설2
 실내외 온도차와 습도, 결로현상: "실내와 실외의 온도 차이가 클수록 습도가 높아져 결로현상이 더 자주 발생한다."
 시간 지연과 결로현상: "온도차가 크게 변한 뒤 일정 시간(예: 몇 시간 또는 몇 분)이 지나면 습도가 상승하여 결로현상이 발생한다."
 이 두 가설을 주요하게 살펴볼 수 있습니다. 
 시간 지연을 고려하는 것은 특히 중요할 수 있습니다. 
 왜냐하면 온도와 습도의 변화가 즉각적으로 결로현상에 영향을 미치는 것이 아니라 일정 시간 지연이 있을 수 있기 때문입니다.
 예를 들어, 낮과 밤의 온도 차이가 클 경우, 
 밤이 되어 온도가 떨어진 뒤 일정 시간이 지나야 실내 습도가 상승하고 결로현상이 발생할 수 있습니다.
 이러한 패턴을 파악하면 스마트팜에서의 습도 관리나 결로현상 예방에 유용할 것입니다.

- 데이터에서의 결로현상 가설3
 그러면. '실외온도가 낮아질때 실내의 온도와 습도가 높아지고 
 거기에 co2농도까지 높아진다면(공기순환이 없어) 결로가 발생한다' 

inTp : 실내온도
outTp : 실외온도
inHd : 실내습도
inCo2 : 실내co2량

inTp (실내 온도)와 inHd (실내 습도): 
상관계수는 약 0.799로, 매우 강한 양의 상관관계를 보입니다. 
이는 실내 온도가 증가하면 실내 습도도 증가하는 경향이 있음을 의미합니다.

inTp (실내 온도)와 inCo2 (실내 CO2 농도): 
상관계수는 약 0.644로, 강한 양의 상관관계를 보입니다. 
실내 온도가 높아질수록 CO2 농도도 높아지는 경향이 있습니다.

inHd (실내 습도)와 inCo2 (실내 CO2 농도): 
상관계수는 약 0.783으로, 또한 강한 양의 상관관계를 보입니다.
실내 습도가 높아질수록 CO2 농도도 증가하는 경향이 있습니다.

outTp (실외 온도)는 다른 변수들과는 상대적으로 약한 상관관계를 보입니다. 
특히 inCo2와는 거의 관계가 없는 것으로 나타났습니다 (상관계수 약 0.095).

가설 '실외온도가 낮아질때 실내의 온도와 습도가 높아지고 거기에 
co2농도까지 높아진다면(공기순환이 없어) 결로가 발생한다'에 대해서는,
이 데이터만으로는 실외 온도(outTp)가 결로 현상에 직접적인 영향을 미치는지 확인하기 어렵습니다. 
하지만 실내 온도, 습도, CO2 농도 간에는 상당히 높은 상관관계가 있으므로, 
이 변수들이 결로 현상에 영향을 미칠 가능성은 높아 보입니다.

- 나의의견 
위와같은 실험결과가 나왔다. 
그러나 일단 위의 결과는 상관관계일뿐 실제로 외부온도가 내부에 영향을 끼칠 가능성이 높다.
그이유는 결로는 주로 겨울철에 밤에 발생한다고 했기 때문이다. 
그래서 일단은 교육영상에서 결로에 대해 한번더 들어보자. 
그리고 실내외의 온도차등도 같이 상관관계에 넣어 판별해보자. 
그리고 코드에서는 결측치가 많으니 결측치를 해당열의 평균값으로 대체하는 작업을 하는중
일단 결측치에 대한 부분을 클리어 한후 가설검증을 위해 데이터들의 상관관계를 분석하자. 

**********************************************************************
<< 결로현상에 대한 결론 >>
- 겨울철 아침에 스마트팜 내부의 습도가 높은 이유
1. 밤새 토마토의 광합성에 의한 증산작용 
(식물이 수분을 증발시키는 현상을 증산작용이라고 하며, 식물의 잎에 있는 기공을 통해 일어남)
스마트팜은 작물의 생산성을 높이기 위해 높은 내부온도를 유지하고 있고
밤,새벽시간대에도 led등을 사용해 햇빛의 역할을 하고 있기 때문에 밤에도 광합성을 하고 있음.

2. 공기순환 부족 
 겨울철의 경우 측창을 가동할 경우 차가운공기로 인해 작물이 냉해를 입을수도 있기 때문에
 측창을 통한 공기순환 및 습도조절이 어려움.






- 최초 알고리즘 구현
AI의 적용을 전제로 스마트팜의 결로현상을 제거하는 프로그램을 만들예정.
일단은 습도를 학습시켜 일정수준의 습도를 넘어가게 되면 드론을 가동시키는 결과치를 주는 알고리즘을 만들어 보자. 

: 현재 습도를 학습하여 이상치를 판별하는 알고리즘을 만들었음
  이상치는 위로 아래로도 발생하는데 아래(낮은습도)는 필요없으므로
  위의 이상데이터만 선별하여 anomaly 칼럼으로 이전 파일에 칼럼을 추가해
  data_anomaly_InHd.csv 파일로 만들도록 하였음
  
  이후에는 드론가동 및 비행경로 등인데 밑의 회사들에 컨택하여
  충전 및 비행경로등 자동화가 가능한지 알아볼 필요가 있다. 
  그리고 모델부분에서도 시간대별 지정(밤시간) 및 온도, 등의 추가적인 모델확장이 필요한다. 
  카메라 센서를 이용하여 실제 토마토의 사진을 판별하여 결로의 유무를 판별해볼수도 있을듯 하다. 
  
  - 자동충전이 가능한가
  - 시간대별 비행이 가능한가
  - 습도센서, 카메라센서 부착이 가능한가
  - 팬을 부착할 수 있는가


<< 드론 선택 >>
일반적으로 사용되는 드론을 사용하는 것보다 한국의 기업들(방재작업등에 드론을 활용)
과의 협업을 하는쪽으로 생각해봄

< 한국에서 활동하는 드론회사들 >
Doosan Mobility Innovation (DMI) - 수소 연료전지 드론을 제작하며, 긴 비행 시간이 필요한 다양한 산업 분야에서 활용됩니다.
Terra Drone Korea - 다양한 산업 분야에서 드론 솔루션을 제공하고, 특히 농업분야에서도 활동을 하고 있습니다.
AT Solution - 농업용 드론을 제작하며, 특히 스프레이나 모니터링 등에 사용됩니다.
Farm8 - 스마트팜에 특화된 다양한 서비스를 제공하며, 드론을 활용한 모니터링 서비스도 하고 있습니다.
SLC Drone - 방제용으로 활용되는 드론을 제작하고, 다양한 농약 분무 기술을 보유하고 있습니다.
OPTiM - 농업을 비롯한 다양한 분야에서 드론 데이터 분석 솔루션을 제공합니다.
Erae AMS - 농업용 드론 분무기를 개발하고 있으며, 특히 식물 보호제 분무에 특화된 제품을 보유하고 있습니다.


